[{"title":"Mac根目录创建文件","url":"/2020/06/11/Mac%E6%A0%B9%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6/","content":"方式1:\n\n重启mac\n按住command+r进入恢复模式\n点击用户登录\n在顶部导航栏选择Utilities-&gt;Terminal.app\n输入csrutil disable关闭SIP\n点击左上角苹果的logo重启\n重启完成后在Terminal中输入sudo mount -uw &#x2F;重新挂载根目录\n在根目录正常创建文件夹\n将其他目录的文件夹软连接到根目录文件夹ln -s &#x2F;Users&#x2F;xxxx&#x2F;test &#x2F;test&#x2F;\n设置777或者其他读写权限\n重启并按command+r进入恢复模式\n在恢复模式的Terminal输入csrutil enable重新开启SIP\n重启\n\n方式2:\n\n因为mac os引入了系统完整性保护(SIP)机制，无法在&#x2F;目录下新建文件，此处采用官方推荐做法来挂载。\n命令如下：\nsudo vim &#x2F;etc&#x2F;synthetic.conf\n之后进入编辑模式编辑此文件\n比如你要将家目录下www文件夹挂载到根目录，那么此文件内容应为：\nwww　　&#x2F;Users&#x2F;xxx&#x2F;www\n&#x2F;Users&#x2F;diruipu&#x2F;jerry2&#x2F;zrp&#x2F;ewell&#x2F;var&#x2F;log&#x2F;ewell\n这样重启Mac即可。\n注意：“www”与 “&#x2F;Users&#x2F;xxx&#x2F;www”中间的不是空格键，而是一个table的空格(也就是按一下table键就可以了)。否则不生效！\n\n","tags":["mac"]},{"title":"git常用命令","url":"/2020/04/15/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","content":"\n整理本人日常用到的git命令，并非全部git命令\n\ngit remotegit remote #命令列出所有远程主机git remote -v #列出所有远程主机并展示远程主机的网址git remote show &lt;主机名&gt; #查看远程分支的详细状况git remote add &lt;主机名&gt; &lt;网址&gt; #添加远程主机名git remote rm &lt;主机名&gt; # 删除远程主机git remote rename &lt;原主机名&gt; &lt;新主机名&gt; # 修改远程主机名\n\ngit branchgit branch #查看本地分支 现在所在的分支会有 * 号标注git branch -r #查看远程分支git branch -a #查看所有分支（本地+远程）\n\ngit checkoutgit checkout 分支名 #切换到指定分支#指定本地分支切出新分支并切换。不指定分支时根据当前分支切新分支git checkout -b newBrach 远程分支/本地已有分支\n\ngit mergegit merge 本地分支名 #合并本地分支#合并本地分支，用于取 fetch 后的内容git merge 远程分支/本地分支\n\ngit pull#把指定远程主机名远程分支的内容拉取到指定的本地分支git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;#把指定分支内容拉取到当前本地分支，相当于先 fetch 再 mergegit pull &lt;远程主机名&gt; &lt;远程分支名&gt;\n\ngit push#把指定本地分支的 commit 推到指定的远程主机远程分支上git push &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;#把本地分支推送与之存在&quot;追踪关系&quot;的远程分支（通常两者同名），如果该远程分支不存在，则会被新建。git push &lt;远程主机名&gt; &lt;远程分支名&gt; #删除指定的远程分支，等同于推送一个空的本地分支到远程分支git push &lt;远程主机名&gt;:&lt;远程分支名&gt;#指定默认主机，下次直接 git push 即可git push -u &lt;远程主机名&gt; &lt;本地分支名&gt;\n\ngit resetgit reset --soft HEAD^：将最近一次提交节点的提交记录回退到暂存区git reset --mixed HEAD^：将最近一次提交节点的提交记录回退到工作区git reset --hard HEAD^：将最近一次提交节点的提交记录全部清除\n\ngit revertgit revert HEAD ：撤销前一次 commitgit revert HEAD^ ：撤销前前一次 commitgit revert commit + (commit id)： 撤销指定的版本，撤销也会作为一次提交进行保存。\n\ngit清除缓存git rm -r --cached .git add .git commit -m &#x27;update .gitignore&#x27;\n\n","tags":["git"]},{"title":"Hello World","url":"/2019/01/28/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n"},{"title":"homebrew","url":"/2020/05/11/homebrew/","content":"\nHomebrew是一款Mac OS平台下的软件包管理工具，拥有安装、卸载、更新、查看、搜索等很多实用的功能。简单的一条指令，就可以实现包管理，而不用你关心各种依赖和文件路径的情况，十分方便快捷。\n\n安装过程参考官网\n/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;\n\n常用命令# 查询软件brew search 软件名# 安装软件brew install 软件名# 后台运行的软件（重启之后可以自动启动）brew services start|stop|restart 软件名# 卸载软件brew uninstall 软件名# 查看软件的信息brew info 软件名# 查看安装了哪些软件brew list 软件名# 帮助brew help\n\n","tags":["mac"]},{"title":"linux命令","url":"/2020/01/11/linux%E5%91%BD%E4%BB%A4/","content":"linux命令系统信息uptime   联机信息-时间$ uptime16:11  up 5 days,  2:32, 2 users, load averages: 2.16 2.23 2.26# 依次代表为：# 当前系统时间,系统运行时间,当前在线用户数,系统负荷:1分钟前、5分钟前、15分钟前\n\nw   联机信息-已登录用户$ w16:13  up 5 days,  2:34, 2 users, load averages: 2.40 2.37 2.31 #联机时间USER     TTY      FROM              LOGIN@  IDLE WHATdiruipu  console  -                四13   5days -diruipu  s002     -                13:51       - w# USER 用户名 # TTY 登录方式 # FROM 来源地址 # LOGIN@ 登录时间 # IDLE 发呆时间 # WHAT 当前任务\n\nwho 联机信息$ whoroot  console  Nov 19 13:39xxxx  ttys002  Nov 24 13:51\n\n\n\n\n参数\n作用\n\n\n\n-r\n运行级别\n\n\nwhoami  显示当前用户名$ whoamiroot\n\nlast 最近用户登录信息$ lastdiruipu   ttys002                   Tue Nov 24 13:51   still logged inroot   ttys002                   Sat Nov 21 16:19 - 16:19  (00:00)root   ttys000                   Sat Nov 21 14:38 - 14:38  (00:00)diruipu   ttys000                   Sat Nov 21 13:50 - 13:50  (00:00)\n\n\n\n\n参数\n作用\n\n\n\n-数字\n使用数字作为选项，控制显示条目\n\n\nuname 系统信息$ unameDarwin\n\n\n\n\n参数\n作用\n\n\n\n-s\n内核名称（默认选项）\n\n\n-a\n全部\n\n\n-p\nCPU 信息\n\n\n-n\n主机名\n\n\n-r\n内核发行信息（版本号）\n\n\n-v\n内核版本信息\n\n\ndate 时间$ date2020年11月24日 星期二 16时28分35秒 CST\n\n\n\n\n参数\n作用\n\n\n\n\n-u\n显示格林尼洛时间（UTC）\n\n\n\nMMDDhhmm[[CC]YY][.ss]\n设定时间，需要管理员权限。\ndate 12292359\n\n\n\nMM\n月份\n\n\n\nDD\n天数\n\n\n\nhh\n小时\n\n\n\nmm\n分钟\n\n\n\nCC\n年份前两位\n\n\n\nYY\n年份后两位\n\n\n\nss\n秒钟\n\n\n\n秒钟、年份为可选\ndate 122923592006.59\n\n\n+[%X]\n设定显示格式，默认输出格式：\ndate +%Y年%m月%d日%A%H:%M:%S%Z\n\n\n格式控制\n%n\n换行\n\n\n格式控制\n%t\n制表符\n\n\n小时\n%H\n00~23\n\n\n\n%I\n01~12\n\n\n\n%k\n0~23\n\n\n\n%l\n1~12\n\n\n\n%p\nAM\n\n\n分、秒\n%M\n分钟(00~59)\n\n\n\n%S\n秒(00..61)\n\n\n\n%T\nhh:mm:ss\n\n\n\n%r\nhh:mm:ss AM|PM\n\n\n\n%s\n从 1970年1月1日00:00:00 UTC 到目前为止的秒数\n\n\n\n%X\n%H:%M:%S\n\n\n\n%Z\n时区\n\n\n星期\n%a\nSun~Sat\n\n\n\n%A\nSunday~Saturday\n\n\n\n%w\n一周中的第几天 (0~6)\n\n\n年份\n%Y\n0000~9999\n\n\n\n%y\n00~99\n\n\n月份\n%m\n01~12\n\n\n\n%b\n\n\n\n\n%h\nJan~Dec\n\n\n\n%B\nJanuary~December\n\n\n日期\n%c\n完整日期时间\n\n\n\n%d\n01~31\n\n\n\n%j\n001~366\n\n\n\n%x\n本地格式日期\n\n\n\n%D\nmm&#x2F;dd&#x2F;yy\n\n\n一年中的第几周\n%U\n以 Sunday 为一周的第一天\n\n\n\n%W\n以 Monday 为一周的第一天\n\n\ncal  显示日历$ cal      十一月 2020日 一 二 三 四 五 六 1  2  3  4  5  6  7 8  9 10 11 12 13 1415 16 17 18 19 20 2122 23 24 25 26 27 2829 30\n\n文件管理ls [路径]  显示当前目录文件列表$ lsApplications                        Library                             Postman                             logsDesktop                             Movies                              Public                              nacosDocuments                           Music                                                            Downloads                           Pictures                            \n\n\n\n\n参数\n作用\n\n\n\n–color\n不同属性以不同颜色显示（默认选项）\n\n\n-a\n全部显示\n\n\n-i\n显示 inode值\n\n\n-l\n详细信息\n\n\n-F\n显示文件类型后缀 目录/ 链接@ 可执行文件* 端口文件= 管道文件&#96;\n\n\n-A\n显示隐藏文件\n\n\n-R\n递归显示子目录文件列表\n\n\n-S\n按文件大小排序\n\n\n-t\n按修改时间排序\n\n\n-u\n按访问时间排序\n\n\n-d\n只显示目录，不递归显示目录下的文件\n\n\ncd [目录路径] | [特殊路径] 切换目录\n\n\n参数\n作用\n\n\n\n~\n$HOME 目录（默认值）\n\n\n-\n上一次目录\n\n\n..\n上一级目录\n\n\n.\n当前目录\n\n\npwd 显示当前路径$ pwd/Users/diruipu\n\nfile 文件名  显示文件类型$ file DesktopDesktop: directory\n\n\n\n\n参数\n作用\n\n\n\n-i\n显示 mime类型\n\n\ndu [路径]  计算文件或目录空间占用$ du Desktop40    Desktop\n\n\n\n参数\n作用\n\n\n\n-h\n人性化显示。自动以 G、M、K 为单位显示占用空间大小\n\n\n–max-depth&#x3D;数字\n显示目录深度\n\n\n-l\n重复计算硬链接文件大小\n\n\n-L\n计算符号链接文件大小\n\n\n-a\n显示当前目录子目录中的文件\n\n\n-c\n显示文件数\n\n\nless 文件名 浏览文件touch 目标文件 触碰触碰，在不修改文件的前提下，更改其时间属性。通常用来创建一个空文件\nmkdir 文件夹 创建文件夹\n\n\n参数\n作用\n\n\n\n-p 多级目录\n按路径创建多级目录\n\n\n-m 数字权限值\n设定权限\n\n\ncp 源文件 目标目录|文件将源文件复制为目录文件，或者将源文件复制到目标目录。多个源文件使用空格分隔\ncp 源目录 目标目录将源目录复制到目标目录中，如果复制多个源目录，需要使用 -R 选项\n\n\n\n参数\n作用\n\n\n\n-a\n相当于 -dpr 选项\n\n\n-d\n保留链接\n\n\n-f\n强制复制，覆盖目标文件\n\n\n-i\n覆盖时询问用户\n\n\n-p\n保留修改时间和访问权限\n\n\n-r -R\n递归复制（目录&#x3D;&gt;目录）\n\n\n-l\n创建链接\n\n\n-v\n显示过程\n\n\nrm 目标目录|文件 删除\n\n\n参数\n作用\n\n\n\n-r -R\n递归删除（用于删除目录）\n\n\n-f\n强制删除（无需确认，直接删除。慎用！）\n\n\n-i\n交互式删除（询问用户）\n\n\nrmdir 目标目录删除目录时，建议您使用“rm -r”命令\nmv 源文件 目标目录|文件相当于 cp 后删除源文件，也可以作为“重命名”使用。\n\n\n\n参数\n作用\n\n\n\n-f\n强制，覆盖目标文件\n\n\n-i\n覆盖时询问用户\n\n\n-v\n显示过程\n\n\nln 源文件 链接\n\n\n参数\n作用\n\n\n\n-s\n符号链接\n\n\n-f\n强制链接，覆盖目标文件\n\n\n-i\n覆盖时询问用户\n\n\n文件操作split 源文件 [目标文件名前缀]将源文件按一定规则分割成若干个目标文件。默认文件名前缀为 x\n\n\n\n参数\n作用\n\n\n\n-行数\n按行数分割文件\n\n\n-l 行数\n同上\n\n\n-b 字节\n按大小分割文件。可以使用 b、k、m 作单位，不指定单位的情况下，默认单位为 b\n\n\n-C 字节\n按大小分割文件，并尽量保持每行的完整\n\n\ncat 文件名输出文件内容。用空格分隔多个文件名\n可以将多个文件内容连接到一起输出。使用重定向合并为一个文件 cat xaa xab xac &gt; file.split\n\n\n\n参数\n作用\n\n\n\n-n\n在输出中添加行号\n\n\n-b\n在输出中添加行号，空行不编号\n\n\n-s\n将两行或以上的空行，合并为一个空行\n\n\nsort [-o 输出文件] [-t 分隔字符] [+起始字段 -结束字段] [文件]对文本内容排序\n\n\n\n参数\n作用\n\n\n\n-m\n合并文件\n\n\n-c\n检查文件是否已按规则排序\n\n\n-b\n忽略行首空格字符\n\n\n-u\n忽略内容重复行\n\n\n-f\n忽略大小写\n\n\n-l\n忽略非打印字符\n\n\n-M\n作为月份比较\n\n\n-d\n按字典顺序排序，按照字母、数字、空格、制表符排序\n\n\n-r\n逆序输出\n\n\nmore 查看文件内容查看文件内容，建议使用 less\ndiff 文件1 文件2  比较文件\n\n\n参数\n作用\n\n\n\n-u [数字]\n统一格式，数字为显示上下文行数\n\n\n–unified[&#x3D;数字]\n统一格式，数字为显示上下文行数\n\n\n-c [数字]\n上下文格式，数字为显示上下文行数\n\n\n–context[&#x3D;数字]\n上下文格式，数字为显示上下文行数\n\n\n-e\ned 命令格式\n\n\n–ed\ned 命令格式\n\n\n-f\nRCS 命令格式\n\n\npatch使用 diff -uN[r] 旧文件 新文件 &gt; 补丁文件 命令创建补丁文件。\n在待补丁文件的目录下使用 patch -p[数字] &lt;补丁文件 命令打补丁\n-p [数字] 表示忽略补丁文件中记录的目录，数字为忽略的层数。\npatch -R 已打补丁文件 补丁文件 将已打补丁文件恢复到原来的状态\ncksum [文件名]计算文件的 CRC值。不指定文件名则从标准输入设备读入数据\nmd5sum [文件名]计算文件的 md5值。不指定文件名则从标准输入设备读入数据\n\n\n\n参数\n作用\n\n\n\n-t\n以文本模式读取\n\n\n-b\n以二进制模式读取\n\n\n-c md5纪录\n校验 md5纪录 中的文件(使用 md5sum 配合重定向生成纪录文件)\n\n\n压缩解压tar [-]c|x|u|r|t[z|j][v] -f 归档文件 [待打包文件]将多个文件打包为一个归档文件，可以在打包的同时进行压缩。支持的格式为 tar（归档）、gz（压缩）、bz2（压缩率更高，比较耗时）\n\n\n\n参数\n作用\n\n\n\n\n操作选项\n-c\n创建\n\n\n\n-x\n解包\n\n\n\n-u\n更新\n\n\n\n-r\n添加\n\n\n\n-t\n查看\n\n\n\n-d\n比较压缩包内文件和文件\n\n\n\n-A\n将 tar 文件添加到归档文件中\n\n\n格式选项\n-z\n使用 gz 压缩格式\n\n\n\n-j\n使用 bz2 压缩格式\n\n\n其它\n-v\n显示过程\n\n\n\n-f 文件名\n归档文件的文件名，使用 - 代表标准输入&#x2F;输出\n\n\n\n-C 解压路径\n将压缩包中的文件解压到指定目录\n\n\n\n–exclude&#x3D;文件\n排除文件\n\n\n\n-P\n使用绝对路径压缩时，保留根目录“&#x2F;”\n\n\n\n-W\n校验\n\n\n\n-p\n还原文件权限\n\n\n\n-w\n询问用户\n\n\n\n–totals\n统计\n\n\n\n-T 文件列表\n处理文件列表中的文件\n\n\n\n-X 文件列表\n排除文件列表中的文件\n\n\n7z|7za 子命令 [选项] 压缩包 [文件]\n\n\n参数\n作用\n\n\n\n\n子命令\na\n添加\n\n\n\nd\n删除\n\n\n\ne\n解压\n\n\n\nx\n带路径解压\n\n\n\nl\n列表查看\n\n\n\nt\n测试\n\n\n\nu\n更新\n\n\n选项\n-m 压缩方式\n\n\n\n\n-m0&#x3D;压缩算法\n默认使用 lzma\n\n\n\n-mx&#x3D;数字\n1~9 压缩级别\n\n\n\n-mfb&#x3D;64\nnumber of fast bytes for LZMA &#x3D; 64\n\n\n\n-md&#x3D;字典大小\n设置字典大小，例如 -md&#x3D;32m\n\n\n\n-ms&#x3D;on|off\n是否固实压缩\n\n\n\n-o输出目录\n设置输出目录\n\n\n\n-p密码\n使用密码\n\n\n\n-r数字\n递归，使用数字定义递归子目录的深度\n\n\n\n-sfx[模块名称]\n使用自解压模块\n\n\n\n-si\n从标准输入设备读入数据\n\n\n\n-so\n将数据写入标准输出设备\n\n\n\n-y\n所有询问均回答 Yes\n\n\n\n-w路径\n设置工作目录\n\n\n搜索whereis 程序名称查找软件的安装路径\n\n\n\n参数\n作用\n\n\n\n-b\n只查找二进制文件\n\n\n-m\n只查找帮助文件\n\n\n-s\n只查找源代码\n\n\n-u\n排除指定类型文件\n\n\n-f\n只显示文件名\n\n\n-B 目录\n在指定目录下查找二进制文件\n\n\n-M 目录\n在指定目录下查找帮助文件\n\n\n-S 目录\n在指定目录下查找源代码\n\n\nlocate 文件名称在文件索引数据库中搜索文件\nupdatedb 更新文件索引数据库\n\n\n\n参数\n作用\n\n\n\n-d 数据库路径\n搜索指定数据库\n\n\nfind [路径] 表达式查找文件\n\n\n\n参数\n作用\n\n\n\n-name 表达式\n根据文件名查找文件\n\n\n-iname 表达式\n根据文件名查找文件，忽略大小写\n\n\n-path 表达式\n根据路径查找文件\n\n\n-ipath 表达式\n根据路径查找文件，忽略大小写\n\n\n-amin 分钟\n过去N分钟内访问过的文件\n\n\n-atime 天数\n过去N天内访问过的文件\n\n\n-cmin 分钟\n过去N分钟内修改过的文件\n\n\n-ctime 天数\n过去N天内修改过的文件\n\n\n-anewer 参照文件\n比参照文件更晚被读取过的文件\n\n\n-cnewer 参照文件\n比参照文件更晚被修改过的文件\n\n\n-size 大小\n根据文件大小查找文件，单位 b c w k M G\n\n\n-type 文件类型\n根据文件类型查找文件。b 块设备 c 字符设备 d 目录 p 管道文件 f 普通文件 l 链接 s 端口文件\n\n\n-user 用户名\n按归属用户查找文件\n\n\n-uid 用户编号\n按用户编号查找文件\n\n\n-group 群组名\n按归属群组查找文件\n\n\n-gid 群组编号\n按群组编号查找文件\n\n\n-empty\n查找空文件\n\n\ngrep 字符串|正则表达式 文件名|标准输入在文件中搜索内容\n权限管理chmod 权限表达式 文件|目录更改文件的权限。权限的表达式可以使用 3位8进制数字 表示，或者使用 augo +-&#x3D; rxw-s 来表示\na 所有用户 u 归属用户 g 归属群组 o 其它用户&#x3D; 具有权限 + 增加权限 - 去除权限r 可读权限 w 可写权限 x 可执行权限 \n\n\n\n参数\n作用\n\n\n\n-R\n递归\n\n\n-v\n显示过程\n\n\n-c\n类似“-v”，仅显示更改部分\n\n\n–reference&#x3D;参照文件或目录\n以指定文件为参照更改权限\n\n\n示例：\nchmod -R a+x pathchmod -Rv 755 path    \n\nchown 归属用户[:归属群组] 文件|目录更改文件的归属用户。可以使用用户名或者用户编号\n\n\n\n参数\n作用\n\n\n\n-R\n递归\n\n\n-v\n显示过程\n\n\n-c\n类似“-v”，仅显示更改部分\n\n\n–reference&#x3D;参照文件或目录\n以指定文件为参照更改权限\n\n\n示例：\nchown user:admin pathchown -R user.admin pathchown user path    \n\nchgrp 归属群组 文件|目录更改文件的归属群组。可以使用群组名或者群组编号,选项同上\nSUID、SGID、Sticky bit例如：用户自行设定密码。出于安全方面的考虑， /etc/shadow 只能由 root用户 直接修改。\n-rw------- root root /etc/shadow    \n\n这个时候，可以为程序 &#x2F;usr&#x2F;bin&#x2F;passwd 设置 SUID，当普通用户执行“passwd”命令时，便能够以该程序归属用户 root 的身份修改 &#x2F;etc&#x2F;shadow 文件。而“passwd”程序自身带有身份验证机制，不能通过验证时拒绝执行，从而保证了安全。\nls -l /usr/bin/passwd-r-s--x--x root root /usr/bin/passwd    \n\n我们发现，归属用户的可执行权限位使用 s ，表示 SUID。同样，归属群组的可执行权限位使用 s ，表示 SGID。任何用户或群组都拥有 “其它用户” 的权限，所以不需要以 其它用户 身份执行文件，其它用户的可执行权限位便不会出现 s 。该权限位可能出现的属性为 t ，也就是粘着位 Sticky bit。\nls -ld /tmpdrwxrwxrwt root root /tmp    \n\n粘着位表示任何用户都可能具有写权限，但只有该归属用户或 root用户 才能够删除\nSUID、SGID、Sticky bit 也可以像权限一样，使用一个八进制数表示，如下：\n\n\n\n4\nSUID\n\n\n\n2\nSGID\n\n\n1\nSticky bit\n\n\nlsattr [路径]查看文件的特殊属性\n\n\n\n参数\n作用\n\n\n\n-a\n全部显示\n\n\n-d\n只显示目录\n\n\n-R\n递归\n\n\n特殊属性包括：\n\n\n\na\n仅供附加用途\n\n\n\nb\n不更新最后存取时间\n\n\nc\n压缩后存放\n\n\nd\n排除在转储操作之外\n\n\ni\n不得任意更动文件或目录\n\n\ns\n保密性删除文件或目录\n\n\nS\n即时更新文件或目录\n\n\nu\n预防意外删除\n\n\nchattr +|-|&#x3D;属性 路径更改文件特殊属性\n\n\n\n参数\n作用\n\n\n\n-R\n递归\n\n\n-V\n显示过程\n\n\n用户管理root 用户为根用户,也就是系统管理员,拥有全部权限\n一个用户只能拥有一个 群组编号 ，但是还可以归属于其它附加群组\n用户管理的重要配置文件：\n\n\n\n&#x2F;etc&#x2F;passwd\n用户名 密码位 用户编号 归属群组编号 姓名 $HOME目录 登录Shell\n\n\n\n&#x2F;etc&#x2F;shadow\n用户名 已加密密码 密码改动信息 密码策略\n\n\n&#x2F;etc&#x2F;group\n群组名 密码位 群组编号 组内用户\n\n\n&#x2F;etc&#x2F;gshadow\n群组密码相关文件\n\n\n&#x2F;etc&#x2F;sudoers\n用户名 权限定义 权限\n\n\n\n请使用“visudo”命令修改/etc/sudoers，而不要直接编辑\n可以使用 pwconv 命令创建影子密码，将 /etc/passwd 文件中的密码转换到 /etc/shadow 文件\n\nsu [用户名]切换到其它用户，默认切换到 root用户。提示密码为目标用户密码\n\n\n\n参数\n作用\n\n\n\n-f\n快速切换，忽略配置文件\n\n\n- | -l\n重新登录\n\n\n-m |-p\n不更改环境变量\n\n\n-c 命令\n切换后执行命令，并退出切换\n\n\nsudo 命令以其它用户的身份执行命令，默认以 root 的身份执行。提示密码为当前用户密码\n\n\n\n参数\n作用\n\n\n\n-s\n切换为 root shell\n\n\n-i\n切换为 root shell，并初始化\n\n\n-u 用户名|用户编号\n执行命令的身份\n\n\n-l\n显示自己的权限\n\n\npasswd [用户名]设定用户密码\n\n\n\n参数\n作用\n\n\n\n-d\n清除密码\n\n\n-l\n锁定账户\n\n\n-e\n使密码过期，在下次登录时更改密码\n\n\n-S\n显示密码认证信息\n\n\n-x 天数\n密码过期，最大使用时间\n\n\n-n 天数\n冻结密码，最小使用时间\n\n\n-s\n更改 登录Shell\n\n\n-f\n更改用户信息\n\n\n示例：\n$passwdChanging password for user(current) UNIX password:      #原密码Enter new UNIX password:      #新密码Retype new UNIX password:     #确认新密码    \n\ngpasswd 群组名更改群组\n\n\n\n参数\n作用\n\n\n\n-d 用户名\n将用户从群组中删除\n\n\n-a 用户名\n将用户加入群组\n\n\n-r\n删除密码\n\n\n-A 用户名\n将用户设置为群组管理员(群组管理员或 root 才可以使用 gpasswd 命令）\n\n\n-M 用户1,用户2……\n设置群组成员\n\n\nchsh -s Shell [用户名]更改登录 Shell\nusermod 用户名修改用户账号\n\n\n\n参数\n作用\n\n\n\n-d 目录\n设定 $HOME 目录\n\n\n-m\n设定 $HOME 目录时自动建立该目录\n\n\n-s Shell\n修改用户 登录Shell\n\n\n-l 新登录名\n修改为新登录名\n\n\n-u 用户编号\n修改用户编号\n\n\ng 群组名\n修改用户归属群组\n\n\n-G 群组名\n修改用户归属辅组\n\n\n-L\n锁定帐户\n\n\n-U\n解除锁定\n\n\n-e 过期时间\n设定用户账号过期时间\n\n\n-f 缓冲天数\n设定密码过期后多长时间关闭账号\n\n\n-c 字符串\n修改用户备注\n\n\nuseradd 用户名新建用户\n\n新建用户规则保存于 /etc/login.defs 文件中\n新建用户默认文件保存于 /etc/skel/ 目录中。新建用户时，系统自动拷贝此目录下的文件至新建用户的 $HOME 目录\n\n\n\n\n参数\n作用\n\n\n\n-d 目录\n设定 $HOME 目录\n\n\n-m\n自动建立 $HOME 目录\n\n\n-M\n不自动建立 $HOME 目录\n\n\n-s Shell\n设定用户 登录Shell\n\n\n-u 用户编号\n设定用户编号\n\n\n-g 群组名\n设定用户归属群组\n\n\n-G 群组名\n设定用户归属附加群组\n\n\n-n\n不建立以用户名为名称的群组\n\n\n-e 过期时间\n设定用户账号过期时间\n\n\n-f 缓冲天数\n设定密码过期后多长时间关闭账号\n\n\n-c 字符串\n设定用户备注\n\n\n-D [表达式]\n更改预设值 （预设值保存于 &#x2F;etc&#x2F;default&#x2F;useradd 文件中）\n\n\nuserdel 用户名删除用户\n\n\n\n参数\n作用\n\n\n\n-r\n删除用户相关文件和目录\n\n\nid [用户名]显示用户 用户编号 群组编号 归属附加群组\n进程管理进程一般分为批处理进程、交互进程和守护进程三类。\n守护进程总是活跃，在系统启动时通过脚本自动启动，或由 root 启动，通常在后台运行。\n一个进程可以拥有子进程。当父进程终止时，它的子进程也随之终止；而子进程终止时，父进程通常可以继续运行。\ninit 进程为根进程，所有进程都是它的子进程\nps显示进程信息，选项可省略 “**-**”\n\n\n\n参数\n作用\n\n\n\naux\n以 BSD风格 显示进程 常用\n\n\n-efH\n以 SystemV风格 显示进程\n\n\n-e | -A\n显示所有进程\n\n\na\n显示终端上所有用户的进程\n\n\nx\n显示无终端进程\n\n\nu\n显示详细信息\n\n\nf\n树状显示\n\n\nw\n完整显示信息\n\n\nl\n显示长列表\n\n\n输出字段\n\n\n\n参数\n作用\n\n\n\n\nUSER\n进程所有者\n\n\n\nPID\n进程编号\n\n\n\nPPID\n父进程编号\n\n\n\n%CPU\nCPU 占用率\n\n\n\n%MEM\n内存占用率\n\n\n\nNI\n进程优先级。数值越大，占用 CPU 时间越少\n\n\n\nVSZ\n进程虚拟大小\n\n\n\nRSS\n页面文件占用\n\n\n\nTTY\n终端编号\n\n\n\nSTAT\n进程状态\n\n\n\n\nD\n不可中断\n\n\n\nR\n正在运行，或在队列中的进程\n\n\n\nS\n处于休眠状态\n\n\n\nT\n停止或被追踪\n\n\n\nZ\n僵尸进程\n\n\n\nX\n死掉的进程\n\n\n\n&lt;\n高优先级\n\n\n\nN\n低优先级\n\n\n\nL\n有些页被锁进内存\n\n\n\ns\n包含子进程\n\n\n\n+\n位于后台的进程组\n\n\n\nl\n多线程，克隆线程\n\n\npstree [ 进程编号 | 用户 ]树状显示进程信息。可选择显示某用户的进程或从某进程编号开始的进程\n\n\n\n参数\n作用\n\n\n\n-a\n显示完整命令及选项\n\n\n-c\n完全显示重复进程\n\n\n-p\n显示进程编号，隐含-c\n\n\n-n\n按进程编号排列进程\n\n\n-u\n显示进程所有者\n\n\n-h\n\n\n\n-H 进程编号\n高亮显示进程编号指定的进程及其祖先\n\n\npgrep 进程名显示进程编号\n\n\n\n参数\n作用\n\n\n\n-l\n显示进程名和进程编号\n\n\n-o\n进程起始编号\n\n\n-n\n进程终止编号\n\n\nkill [信号代码] 进程编号根据进程编号向进程发送信号，常用来结束进程，默认信号为 -9\n\n\n\n参数\n作用\n\n\n\n-l [信号代码]\n显示、翻译信号代码\n\n\n-9 | -KILL\n发送 kill 信号,退出\n\n\n-6 | -ABRT\n发送 abort 信号,退出\n\n\n-15 | -TERM\n发送 Termination 信号\n\n\n-1 | -HUP\n挂起\n\n\n-2 | -INT\n从键盘中断，相当于 Ctrl+c\n\n\n-3 | -QUIT\n从键盘退出，相当于 Ctrl+d\n\n\n-4 | -ILL\n非法指令\n\n\n-11 | -SEGV\n内存错误\n\n\n-13 | -PIPE\n破坏管道\n\n\n-14 | -ALRM\n\n\n\n-STOP\n停止进程，但不结束\n\n\n-CONT\n继续运行已停止的进程\n\n\n-9 | -1\n结束当前用户的所有进程\n\n\npkill [信号代码] 进程名称结束进程族。如果结束单个进程，请用 kill\nxkill在图形界面中点杀进程。执行此命令后，鼠标指针变为骷髅图案（一定看过《加勒比海盗》吧）。在窗口中点击左键杀死进程，右键取消\ntop动态、交互式进程管理器\n\n\n\n功能\n参数\n具体作用\n\n\n\n启动选项\n-b\n\n\n\n\n-c\n显示进程启动状态，包括选项、参数、操作对象等；而不只是进程名\n\n\n\n-d 秒\n刷新频率。 -d 5，表示5秒刷新一次\n\n\n\n-n 次\n刷新次数，然后退出。 -n 5，表示刷新5次后退出\n\n\n\n-i\n禁止显示空闲进程或僵尸进程\n\n\n\n-p 进程编号\n仅监视指定进程的编号\n\n\n\n-s\n安全模式运行，禁用一些交互指令\n\n\n\n-S\n累积模式，输出每个进程的总的 CPU 时间，包括已死的子进程\n\n\n交互命令\nspace\n立即刷新\n\n\n\nk\n交互式杀死进程，提示输入进程编号 （默认发送信号15）\n\n\n\nr\n设定 renice，提示输入进程编号和 renice值\n\n\n\ns\n改变两次刷新时间间隔，以秒为单位\n\n\n\nn\n设定显示进程数， 0 为不作限制\n\n\n\ni\n隐藏空闲进程和僵尸进程\n\n\n\nS\n切换到累积时间模式\n\n\n\nl\n开关，在顶部显示 uptime 信息\n\n\n\nt\n开关，在顶部显示 进程和 CPU 状态\n\n\n\nm\n开关，在顶部显示 free 信息\n\n\n\nc\n显示方式切换： 进程名&#x2F;进程启动状态\n\n\n\nA\n按进程启动顺序进行排序。由新到旧\n\n\n\nM\n按内存占用排序。由大到小\n\n\n\nN\n以进程编号排序。由大到小\n\n\n\nP\n按 CPU 占用排序。由大到小\n\n\n\nT\n按时间／累积时间排序\n\n\n\nf|F\n设定显示字段。设定完成后空格退出\n\n\n\no|O\n设定显示字段的排序。大写向前移动，小写向后移动，空格退出\n\n\n\nh|?\n显示有关安全模式和累积模式的帮助信息\n\n\n\nW\n把当前的配置写到 ~&#x2F;.toprc 中\n\n\nrenice 优先级 进程重新设定进程优先级（通常无此必要）\n\n\n\n类别\n参数\n作用\n\n\n\n优先级表达式\n+|-|&#x3D; nice值\n\n\n\n\nnice 取值范围\n-20~19\n\n\n进程表达式\n-p 进程编号\n通过进程编号进行设定\n\n\n\n-g 进程群组编号\n通过进程群组编号\n\n\n\n-u 用户编号\n\n\n\nnohup 命令 [选项]将任务提交到后台，输出附加到 ~/nohup.out 文件。即便用户退出登录，提交的命令仍继续执行。\n命令 &amp;背景执行此命令，如果用户退出登录，则命令停止执行\n命令1 ; 命令2 ; ……命令队列，从左向右，依次执行以 ; 分隔的命令\n命令1 &amp;&amp; 命令2 &amp;&amp; ……命令队列，从左向右，依次执行以 &amp;&amp; 分隔的命令。前一个命令执行成功，后一个命令才能执行\nCtrl+z挂起当前任务\njobs显示背景任务\n\n\n\n参数\n作用\n\n\n\n-l\n显示完整信息\n\n\nbg [任务编号]将挂起的任务背景执行\nfg [任务编号]将背景任务调到前台执行\n磁盘和内存管理Linux 中，设备用/dev/目录下的文件表示。例如\n/dev/hda1 第一块硬盘的第一主分区/dev/hdb5 第二块硬盘的第一逻辑分区/dev/sda4 第一块 SATA 硬盘的第四主分区，或者扩展分区/dev/null 黑洞设备    \n\nmount 设备文件 [挂载路径]挂载文件系统\n\n\n\n\n\n\n\n\n\n-t\n指定文件系统的类型\n通常不必指定，mount 自动检测\n\n\n常见类型\nreiserfs\nReiserFS 3.6版\n\n\n\nxfs\nSGI 技术\n\n\n\njfs\nIBM 技术\n\n\n\next3\nLinux 传统文件系统\n\n\n\nvfat\nfat fat32\n\n\n\next2\nLinux 传统文件系统，不带日志\n\n\n\nntfs\nWINNT\n\n\n\niso9660\n光盘\n\n\n\nsmbfs\nWindows 文件共享\n\n\n-o [选项1] [选项2] …..\n\n\n\n\n选项\nloop\n环设备。光盘、ISO 映像文件等，通常用于挂载映像文件（而不是设备文件）\n\n\n\nbind\n绑定。将一个目录（而不是设备文件）挂载到另一个目录\n\n\n\nro | rw\n只读 readonly；可读写 read-write\n\n\n\nsync | async\n同步模式|异步模式。决定修改是否立即写入文件系统\n\n\n\natime | noattime\n读取时是否修改访问时间。对于写入敏感设备，例如闪存、软盘，建议使用 noatime\n\n\n\nauto | noauto\n自动挂载模式\n\n\n\nexec | noexec\n是否允许执行\n\n\n\ndefaults\n使用预设的选项 rw, suid, dev, exec, auto, nouser, async\n\n\n\niocharset&#x3D;UTF-8\n指定字符集，可简写为 utf8\n\n\n\ncodepage&#x3D;936\n指定代码页，可简写为 cp936 西文系统代码页为 437\n\n\n\numask&#x3D;权限掩码\n设定权限掩码\n\n\n\nuid&#x3D;用户编号\n设定归属用户\n\n\n\ngid&#x3D;群组编号\n设定归属群组\n\n\n\nremount\n以不同选项重新挂载\n\n\n\n-L 卷标\n挂载带有特殊卷标的分区\n\n\n权限掩码&#x3D;777-目标权限（三位） | 7777-目标权限（四位）\n假如权限掩码为 022 ，则目标权限为 755 rwxr-xr-x\n可以使用 umask 命令设置权限掩码\n\n挂载 NTFS 分区时请使用 utf8 选项；挂载 FAT 分区时请使用 iocharset&#x3D;utf8,codepage&#x3D;936 选项，以避免乱码\n\nmount -a\n挂载 /etc/fstab 文件中定义的所有设备。示例：\nsudo mount -t iso9660 -o loop /dev/cdrom0 /media/cdromsudo mount -t vfat -o remount iocharset=utf8,codepage=936  /dev/hda5 /media/hda5  \n\numount 设备文件 | 挂载路径卸载已挂载文件系统\ndf查看已挂载文件系统的磁盘空间占用\n\n\n\n命令\n作用\n\n\n\n-a\n显示所有文件系统的磁盘使用情况，包括0块（block）的文件系统，如/proc 文件系统\n\n\n-T\n显示文件系统类型\n\n\n-k\n以 k 字节为单位显示\n\n\n-i\n显示 i节点 信息，而不是磁盘块\n\n\n-t 文件系统类型\n显示指定类型的文件系统的磁盘空间使用情况\n\n\n-x 文件系统类型\n列出排除指定类型文件系统的磁盘空间使用情况（与 t 选项相反）\n\n\n-l\n只显示本地文件系统\n\n\nfree查看内存、缓冲区、交换空间的占用\n\n\n\n命令\n作用\n\n\n\n-b\n以字节为单位显示数值\n\n\n-k\n以千字节为单位显示数值\n\n\n-m\n以兆字节为单位显示数值\n\n\n-g\n以吉字节为单位显示数值\n\n\n-l\n显示内存占用峰值\n\n\n-o\n不显示缓冲区占用\n\n\n-t\n统计结果\n\n\n-s 秒\n刷新频率\n\n\nsync同步文件系统。将缓冲区中的数据写入文件系统\nfdisk 磁盘设备文件分区表修改工具(磁盘设备文件应为整块磁盘，而不是磁盘中的分区。例如 /dev/sda ，而不是 /dev/sda1)\nfdisk -l 查看所有磁盘分区信息\n\n\n\n命令\n作用\n\n\n\nm\n使用帮助\n\n\nl\n查看已知文件系统类型\n\n\np\n显示分区信息\n\n\nn\n新建分区 （p:主分区 l:扩展分区 参见 “分区概念”一节 )\n\n\nd\n删除分区\n\n\nt\n改变分区类型\n\n\nw\n将改动写入分区表\n\n\nq\n放弃改动并退出\n\n\ncfdisk更加友善的分区表修改工具\nmkfs.文件系统类型 分区设备文件将分区格式化为文件系统。示例：\nsudo mkfs.reiserfs /dev/hda1sudo mkfs.xfs /dev/sda1    \n\nhdparm 磁盘设备文件设置硬盘参数\n\n\n\n命令\n作用\n\n\n\n-d 0|1\nDMA 模式开关\n\n\n-a 0|1\n预读模式开关\n\n\n-t\n性能测试\n\n\n-T\n缓存性能测试\n\n\n-c 0|1|3\n32位传输模式开关\n\n\n-g\n显示柱面，扇区等信息\n\n\n-i|-I\n显示磁盘信息\n\n\n硬件管理lspci查看 PCI 总线连接的设备(实际上也可以查看 ISA、AGP、USB 等总线信息)\n\n\n\n参数\n作用\n\n\n\n－v\n显示详细信息\n\n\n－vv\n\n\n\n－vvv\n\n\n\n－k\n同时显示使用的驱动和加载的模块\n\n\n－n\n显示设备 ID号\n\n\n－b\n显示 PCI、ISA 扩展槽地址和中断\n\n\n－t\n显示总线树结构\n\n\n-F 文件\n从指定文件读信息\n\n\n－m\n以便于机器处理的格式输出所有硬件信息\n\n\n-mm\n\n\n\nlsusb查看 USB 接口连接的设备\nlsmod查看已加载模块。/lib/modules/uname -r 目录下为所有可用模块\nmodprobe 模块名称启用模块\n\n\n\n参数\n作用\n\n\n\n-a\n加载所有匹配模块\n\n\n-c\n显示当前使用的配置\n\n\n-d\n显示调试信息\n\n\n-k\n将指定模块设置为”自动清除”模式\n\n\n-l\n显示所有匹配模块\n\n\n-n\n模拟执行\n\n\n-q\n不显示错误信息\n\n\n-r\n删除使用命令加载的模块;对非命令加载的模块设置”自动清除”模式\n\n\n-s\n将结果记录到系统记录中\n\n\n-t\n指定模块类型\n\n\n-v\n显示详细信息\n\n\n-C\n指定配置文件.默认使用/etc/modules.conf文件为配置文件\n\n\n其它echo 字符串回显。较复杂的字符串，可以使用 &quot; 括起来。\n\n\n\n类型\n参数\n作用\n\n\n\n选项\n-n\n输出内容不换行\n\n\n\n-E\n不解析脱字符\n\n\n\n-e\n解析脱字符\n\n\n控制字符\n\\\n反斜线\n\n\n\n\\a\n警告\n\n\n\n\\b\n退格\n\n\n\n\\n\n换行\n\n\n\n\\r\n回车\n\n\n\n\\t\n水平制表符\n\n\nclear清空屏幕\nalias 输入内容&#x3D;实际内容别名，为命令指定一个别名，以简化输入。例如：\nalias ls=&#x27;ls -AF --color=auto&#x27;    \n\n可以将您的定义保存在 ~/.bashrc 文件中\nexport 变量名将变量导出为环境变量，常写变量赋值一同使用，例如：\nexport PATH=&quot;$PATH:xxx&quot;    \n\nshutdown关闭计算机，向根进程 init 发送信号，更改 runlevel 为 0 (halt)\n\n\n\n参数\n作用\n\n\n\n-h\n关闭电源\n\n\n-r\n重启\n\n\n-n\n强行关机，不向 init进程 发送信号\n\n\n-k\n模拟关机，向登录者发送关机警告\n\n\n-t 秒\nN秒后关机\n\n\ntime 时间\n定时关机\n\n\n-c [说明信息]\n取消关机\n\n\n-f\n重启时忽略检测文件系统\n\n\n-F\n重启时强制检测文件系统\n\n\nhalt关闭计算机。 调用 shutdown -h ，结束系统进程，同步文件系统，停止内核。\n\n\n\n参数\n作用\n\n\n\n-n\n不同步文件系统\n\n\n-w\n模拟关机，写 /var/log/wtmp 纪录\n\n\n-f\n不调用 shutdown ,强行关机\n\n\n-p\n默认选项，关机时调用 poweroff\n\n\n-i\n关机前断开网络\n\n\nreboot重新启动计算机。选项与 halt 相似\ninit 数字更改运行级别\n\n\n\n参数\n作用\n\n\n\n0\n关机\n\n\n1\n单用户模式\n\n\n6\n重启\n\n\nchroot 路径更改根目录，重新定义会话的运行环境。（通常用在多系统环境下使用）\n","tags":["linux"]},{"title":"mysql8-linux-yum","url":"/2021/03/23/mysql8-linux-yum/","content":"安装过程参照Linux系统下MySQL 8.0安装\n# 检测系统是否自带安装 MySQLrpm -qa | grep mysql# 如果有安装可以选择进行卸载# 普通删除模式# rpm -e mysql# 强力删除模式，如果使用上面命令删除时，提示有依赖的其它文件，则用该命令可以对其进行强力删除# rpm -e --nodeps mysql# 去官网下载 Yum 资源包，下载地址：https://dev.mysql.com/downloads/repo/yum/wget https://repo.mysql.com//mysql80-community-release-el7-1.noarch.rpm# 安装 rpm -ivh mysql80-community-release-el7-1.noarch.rpmyum install mysql-server -y# 初始化MySQLmysqld --initialize# 加权限chown -R mysql:mysql /var/lib/mysql#启动service mysqld start# 进入日志查看密码 里面这段话为临时密码 cv出密码# A temporary password is generated for root@localhost:*****vim /var/log/mysql/mysqld.log# 进入mysql ,p后面可以直接跟上临时密码，也可以-p直接回车再输入密码mysql -u root -p临时密码\n\n修改密码#修改密码ALTER user &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;你的密码&#x27;;\n\n开启远程访问use mysql;update user set host = &#x27;%&#x27; where user = &#x27;root&#x27;;\n\n","tags":["linux","mysql","yum"]},{"title":"mysql读写分离","url":"/2020/11/11/mysql%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/","content":"安装环境2台及以上服务器：CantOS 7\n\n安装MySql# 卸载mysqlrpm -qa|grep mysql #若有可用rpm -e卸载# 查找mysql残留包，有则删除 rm -rf ，没有则忽略find / -name mysql# 安装相关依赖yum -y install make gcc-c++ cmake bison-devel ncurses-devel numactl libaio# 创建对应mysql用户groupadd mysql useradd -s /sbin/nologin -g mysql -M mysql# 下载二进制包并解压cd /usr/local/ # wget下载或者本地下载后上传-下载速度慢的话可以用国内的镜像地址下载 wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz# 解压安装包 tar -zxvf mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz# 解压后为了方便后面操作可把解压后文件名修改为mysql mv mysql-5.7.23-linux-glibc2.12-x86_64 mysql # 更改文件夹所属 chown -R mysql.mysql /usr/local/mysql# 创建mysql存储文件mkdir -p /data/mysql/&#123;data,logs,tmp&#125;# 更改文件夹所属chown -R mysql.mysql /data/mysql/# 创建配置文件vi /etc/my.cnf\n\n# 简单模板如下：[client]port            = 3306socket          = /data/mysql/tmp/mysql.sock[mysqld]user = mysqlbasedir = /usr/local/mysql        datadir = /data/mysql/data  port = 3306               socket = /data/mysql/tmp/mysql.sockpid-file  = /data/mysql/tmp/mysqld.pidtmpdir = /data/mysql/tmp    skip_name_resolve = 1symbolic-links=0max_connections = 2000group_concat_max_len = 1024000sql_mode = NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTIONlower_case_table_names = 1log_timestamps=SYSTEMcharacter-set-server = utf8interactive_timeout = 1800  wait_timeout = 1800max_allowed_packet = 32Mbinlog_cache_size = 4Msort_buffer_size = 2Mread_buffer_size = 4Mjoin_buffer_size = 4Mtmp_table_size = 96Mmax_heap_table_size = 96Mmax_length_for_sort_data = 8096#logsserver-id = 1003306log-error = /data/mysql/logs/error.logslow_query_log = 1slow_query_log_file = /data/mysql/logs/slow.loglong_query_time = 3log-bin = /data/mysql/logs/binlogbinlog_format = rowexpire_logs_days = 15log_bin_trust_function_creators = 1relay-log = /data/mysql/logs/relay-binrelay-log-recovery = 1  relay_log_purge = 1  #innodb  innodb_file_per_table = 1innodb_log_buffer_size = 16Minnodb_log_file_size = 256Minnodb_log_files_in_group = 2innodb_io_capacity = 2000innodb_io_capacity_max = 4000innodb_flush_neighbors = 0innodb_flush_method = O_DIRECTinnodb_autoinc_lock_mode = 2innodb_read_io_threads = 8innodb_write_io_threads = 8innodb_buffer_pool_size = 2G\n\n# 配置mysql.servercd /usr/local/mysql/support-filescp mysql.server /etc/init.d/mysqlvi /etc/init.d/mysql\n\n# 修改目录位置basedir=/usr/local/mysqldatadir=/data/mysql/data\n\n# 注册开机启动服务(可忽略)chkconfig --add mysqlchkconfig --list# 添加环境变量echo &quot;PATH=$PATH:/usr/local/mysql/bin  &quot; &gt;&gt; /etc/profile  source /etc/profile# 初始化mysql服务/usr/local/mysql/bin/mysqld  --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysql/data# 临时密码保存在errlog中 # 获取临时密码more /data/mysql/logs/error.log |grep password# 启动mysql服务service mysql start# 使用初始密码登录mysql服务 并修改密码mysql -uroot -p\n\nalter user &#x27;root&#x27;@&#x27;localhost&#x27; identified by &#x27;root&#x27;;flush privileges;quit；#退出\n\n#重新登录mysql -uroot -p\n\n#查看数据库show databases;#进入mysql数据库修改配置use mysql;#查看用户表select host,user from user;#更新用户访问权限为远程访问update user set host=&#x27;%&#x27; where host=&#x27;localhost’;#刷新配置flush privileges;\n\n配置主从复制完成上述安装,保证mysql数据库可访问\n配置主库# 修改主库配置vi /etc/my.cnf\n\n#增加server-id 服务号保证不重复server-id=132log_bin#需要同步的数据库binlog-do-db=zgys#忽略数据库（不需要同步的数据库）binlog-ignore-db=mysql\n\n#重启mysql服务，登陆查看主机状态service mysql restartmysql -uroot -p \n\n#增加从库权限grant replication slave on *.* to &#x27;root&#x27;@&#x27;39.106.211.18&#x27; identified by &#x27;root&#x27;;show master status;#记主file 和 Position 列的值\n\n配置从库#删除auto.cnfrm -f  /data/mysql/auto.cnf# 修改主库配置vi /etc/my.cnf\n\n#增加server-idserver-id=133\n\n#重启mysql服务，登陆查看主机状态service mysql restartmysql -uroot -p \n\n#关闭从机状态stop slave;# reset slave;#设置和主机建立连接change master to master_host=&#x27;主库ip&#x27;,master_user=&#x27;主机用户名&#x27;,master_password=&#x27;主机密码&#x27;,master_log_file=&#x27;主库file&#x27;,master_log_pos=主库Position;#启动从机状态start slave#查看从机状态show slave status \\G;# Slave_IO_Running及Slave_SQL_Running进程必须正常运行，即Yes状态，否则说明同步失败,# 若失败查看mysql错误日志中具体报错详情来进行问题定位\n\n**test:**在主节点创建一个zgys的数据库，然后在该数据库加一张表，添加一条测试数据\n读写分离安装mycat\nwget http://dl.mycat.org.cn/1.6-RELEASE/Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz#解压tar -zxvf 1.6-RELEASE/Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz#移动mycat到 /usr/local/MyCat/下mv mycat /usr/local/MyCat/#修改mycat配置文件schema.xml文件和server.xmlvim /usr/local/MyCat/mycat/conf/server.xml\n\nserver.xml\n&lt;!-- 配置客户端连接Mycat的用户名、密码、逻辑数据库 --&gt;&lt;user name=&quot;root&quot; defaultAccount=&quot;true&quot;&gt;    &lt;property name=&quot;password&quot;&gt;123456&lt;/property&gt;    &lt;property name=&quot;schemas”&gt;zgys&lt;/property&gt;&lt;/user&gt;\n\nschema.xml\n&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE mycat:schema SYSTEM &quot;schema.dtd&quot;&gt;&lt;mycat:schema xmlns:mycat=&quot;http://io.mycat/“&gt;    &lt;!-- 逻辑数据库配置 --&gt;    &lt;schema name=&quot;zgys&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dn&quot;&gt;&lt;/schema&gt;    &lt;!-- 配置存储节点 --&gt;    &lt;dataNode name=&quot;dn&quot; dataHost=&quot;node&quot; database=&quot;zgys&quot; /&gt;    &lt;!-- 配置数据库主机 --&gt;    &lt;dataHost name=&quot;node&quot; maxCon=&quot;1000&quot; minCon=&quot;10&quot; balance=&quot;1&quot;              writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot; switchType=&quot;1&quot;  slaveThreshold=&quot;100&quot;&gt;        &lt;!--心跳检测 --&gt;        &lt;heartbeat&gt;select user()&lt;/heartbeat&gt;        &lt;!-- 配置读、写数据库 --&gt;        &lt;writeHost host=&quot;diruipu.top&quot; url=&quot;diruipu.top:3306&quot; user=&quot;root&quot;                   password=&quot;root&quot;&gt;            &lt;readHost host=&quot;39.106.221.18&quot; url=&quot;39.106.221.18:3306&quot; user=&quot;root&quot; password=&quot;root&quot; /&gt;        &lt;/writeHost&gt;        &lt;!-- 写数据库宕机后的备份数据库 --&gt;        &lt;writeHost host=&quot;localhost&quot; url=&quot;localhost:3306&quot; user=&quot;root&quot;                   password=&quot;root&quot; /&gt;    &lt;/dataHost&gt;&lt;/mycat:schema&gt;\n\n#启动mycatmycat start\n","tags":["linux","mysql"]},{"title":"nginx相关配置","url":"/2020/04/11/nginx%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/","content":"nginx安装步骤(linux)#下载压缩包wget http://nginx.org/download/nginx-1.18.0.tar.gz# 安装依赖yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel# 解压缩tar -zxvf nginx-1.18.0.tar.gzcd nginx-1.18.0/# 执行配置./configure# 编译安装(默认安装在/usr/local/nginx)makemake install\n\n常用命令#检查配置文件/usr/local/nginx/sbin/nginx -t#停止/usr/local/nginx/sbin/nginx -s stop/quit#重启/usr/local/nginx/sbin/nginx -s reload#启动/usr/local/nginx/sbin/nginx\n\n配置https#以下属性中以ssl开头的属性代表与证书配置有关，其他属性请根据自己的需要进行配置。server &#123;         listen 443 ssl; #配置HTTPS的默认访问端口号为443。此处如果未配置HTTPS的默认访问端口，可能会造成Nginx无法启动。Nginx 1.15.0以上版本请使用listen 443 ssl代替listen 443和ssl on。         server_name diruipu.top;#将www.certificatestests.com修改为您证书绑定的域名，例如：www.example.com。如果您购买的是通配符域名证书，要修&gt;改为通配符域名，例如：*.aliyun.com。         root html;         index index.html index.htm;         ssl_certificate cert/diruipu.top.pem;  #将domain name.pem替换成您证书的文件名称。         ssl_certificate_key cert/diruipu.top.key; #将domain name.key替换成您证书的密钥文件名称。         ssl_session_timeout 5m;         ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;#使用此加密套件。         ssl_protocols TLSv1 TLSv1.1 TLSv1.2;#使用该协议进行配置。         ssl_prefer_server_ciphers on;         location / &#123;         root html; #站点目录。         index index.html index.htm;                    &#125;      &#125;\n\n开启http自动转为https\n\\#在http 的server里面配置这句话rewrite ^(.*)$ https://$host$1 permanent;\\#将所有HTTP请求通过rewrite重定向到HTTPS。\n\n其他配置太多了直接搜索  谷歌｜百度｜Bing\n","tags":["linux","nginx"]},{"title":"md语法练习","url":"/2019/02/22/test-sit/","content":"标题\n内容\n\n标题2console.log(&#x27;HelloWorld&#x27;);\n\n标题3\n无序列表1\n无序列表2\n无序列表3\n\n标题4加粗\n倾斜\n标题5\n\n\n列1\n列2\n列3\n\n\n\n1\n1\n1\n\n\n2\n2\n2\n\n\n3\n3\n3\n\n\n","tags":["md"]},{"title":"vim编辑器","url":"/2020/03/28/vim%E7%BC%96%E8%BE%91%E5%99%A8/","content":"命令使用 Vim 编辑文件:\nvi [文件名]vim [文件名]\n\n教学模式:\nvimtutor [语言]\n\nvim 教程，相当于使用Vim编辑器以只读模式打开教程文件。您无论对这个文件作了什么，都会在退出后恢复原来的样貌。与只读模式的区别在于，它不会没有眼色的提醒您，现在的状态为只读模式。您可以使用它作一些练习\n您可以指定教程文件的语言，如果使用本地语言(ZH_cn)出现乱码，您可以尝试使用英语\nvimtutor en\n\n使用 Vim 比较文件区别\nvimdiff [文件1] [文件2] [其它文件]……  \n\n配置文件Vim 的全局配置文件为 /etc/vim/vimrc ，用户配置文件为 ~/.vimrc ， &quot; 起始的行为注释行。我们提供的配置项，直接加入配置文件就可以了\n例如：可以先对 Vim 进行一些简单的配置\n&quot;运行在非兼容(VI)模式下(命令模式下 TAB 补全)set nocompatible&quot;设定文件编码set fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936&quot;开启语法加亮syntax on&quot;配色风格colorscheme pablo&quot;简洁启动模式set shortmess=atI&quot;设定 GUI 选项&quot;set guioptions=gmrLtT  m:菜单 T:工具栏set guioptions=gmrLt&quot;命令行高度set cmdheight=1&quot;设定行距 ( GUI 界面中生效 )set linespace=4&quot;显示标尺set ruler&quot;自动折行&quot;set nowrapset wrap&quot;按完整单词折行set nolinebreak&quot;set linebreak&quot;行宽（输入时自动插入换行符）&quot;set textwidth=80set textwidth=0&quot;允许在 虚空间 内操作 （虚空间:不包含任何文本的空间。如换行符之后）&quot;set virtualedit=all&quot;禁止在 虚空间 内操作set virtualedit=&quot;设定 Tab 键缩进的空格数set tabstop=4&quot;设定编辑器将多少空格视为一个缩进set shiftwidth=4&quot;将缩进转换为空格&quot;set expandtab&quot;设定自动缩进(新行与前一行缩进相同)set autoindent&quot;set noautoindent&quot;插入模式下，“←”如何删除光标前的字符：行首空白、换行符、插入点之前的字符set backspace=indent,eol,start&quot;命令行历史纪录set history=500&quot;禁用增量搜索set incsearch&quot;set noincsearch&quot;搜索时忽略大小写set ignorecase&quot;set noignorecase&quot;高亮显示搜索结果set hlsearch&quot;设定折叠方式&quot;set foldmethod=manual&quot;以下字符将被视为单词的一部分 (ASCII)：&quot;set iskeyword+=33-47,58-64,91-96,123-128\n\n模式行也可以通过“模式行”将配置选项嵌入在普通文件中。打开此文件时，优先使用模式行中的配置：\n# vim: filetype=sh foldmethod=marker autoindent expandtab shiftwidth=4模式行可以写在任意位置但为了不影响文件功能，模式行通常写在注释中模式行以 vim: 起始，前面至少要有一个空白字符（空格、换行符等）模式行中的设置项以空格分隔……\n\n这种形式的缺点在于，不能在设置项后添加其它文本。如果有相关需要，可以使用另一种模式行：\n&lt;!-- vim:set filetype=html: 这里可以任意添加文本 --&gt;    \n\n模式介绍Vim 常见的模式有： 普通模式 、 插入模式 、 命令模式 ，另外我们也会经常用到 可视模式 。\n\nVim 启动时进入 *普通模式* ；或者在其它模式下，按下 Esc 键，便可以回到普通模式。\n使用 vimtutor en 命令进入教程，现在是普通模式。随便按几下 j 、 k 、 l 、 h 键，您会发现光标的位置发生改变。\n按下 i 键，编辑器底部出现了 – 插入 – 或者 – insert – ，您进入了插入模式。随便按几下 j 、 k 、 l 、 h ，您会发现相应的字符出现在编辑区，现在还可以通过方向键来移动光标。可能您觉得使用方向键移动光标不是什么问题，但是习惯了 Vim 后，您反而会认为方向键太麻烦了，简直不能容忍！好了，现在按下 Esc 键回到普通模式，我们又可以使用 j 、 k 、 l 、 h 来移动光标了。\n在普通模式下，按下 : 键（也就是 Shift+; ），在编辑器底部出现了一个 : ，您进入了命令模式。在 : 后输入一个命令 new ，回车后，编辑器被分割为上下两栏。为了方便起见，我们在命令前加一个 : 来表示命令模式下输入的命令，像这样\n:vnew\n\n命令能够以一些规则简化，上面的命令也可以写为这种形式\n:vne\n\n现在您的编辑区一定弄的四分五裂，您可以使用命令“**:quit**”来关闭当前栏，直接用简写就可以了\n:q\n\n这个命令是退出编辑器，如果编辑区被分成多栏，则是退出当前栏。\n执行完一个命令（按下回车后），编辑器会自动回到普通模式。如果想不执行当前命令，直接回到普通模式，您可以按下 Esc键。\n按下 v 键，您进入了可视模式，可以使用 j 、 k 、 l 、 h 移动光标，高亮选取文本 。\n事实上，可视模式相当于高亮选取文本后的普通模式。\n可视模式具有多种模式，以行为单位进行选取的可视行模式，使用 V 键进入（也就是 Shift+v ）；和以块为单位进行选取的可视块模式，使用 Ctrl+v 键进入。\n\n模式切换|当前模式|目标模式|操作|\n\n\n\n其它模式\n普通模式\nEsc\n\n\n\n\n普通模式\n插入模式\ni\n在光标前插入\n\n\n\n\nI\n在行首插入\n\n\n\n\na\n在光标后插入\n\n\n\n\nA\n在行末插入\n\n\n\n\no\n在当前行之下新建行\n\n\n\n\nO\n在当前行之上新建行\n\n\n\n\nr\n替换当前字符\n\n\n\n\nR\n从当前字符开始替换\n\n\n普通模式\n命令模式\n:\n\n\n\n普通模式\n可视模式\nv\n可视模式\n\n\n\n\nV\n可视行模式\n\n\n\n\nCtrl+v\n可视块模式\n\n\n移动在普通模式中，您可以使用以下方式移动光标\n    k(上)\n\n  h(左)    l(右)\n      j(下) \n\n您可以使用其它更有效率的方式移动光标\n\n\n\n\n向前\n向后\n\n\n\n单词\nw\nb\n\n\n单词，包括特殊符号\nW\nB\n\n\n单词词尾\ne\n\n\n\n单词词尾，包括特殊符号\nE\n\n\n\n\n\n\n\n\n行\n0\n$\n\n\n行首文字（不包括空格）\n^\n\n\n\n\n\n\n\n\n页\nH\nL\n\n\n页面中部\nM\n\n\n\n在其它模式中，您可以使用方向键移动光标，不过那样比较麻烦，您可以在配置文件中绑定插入模式下的功能键\nnoremap! &lt;M-j&gt; &lt;Down&gt;noremap! &lt;M-k&gt; &lt;Up&gt;noremap! &lt;M-h&gt; &lt;left&gt;noremap! &lt;M-l&gt; &lt;Right&gt;………………作用范围 键位 功能  \n\n其中，**map!绑定的键盘映射，作用于所有模式；inoremap!**绑定的映射，仅作用于插入模式。\n数字参数您也可以使用数字参数(普通模式)，来重复执行。例如\n#执行 100次j键，向下 100行100j\n\n浏览gg 定位到文件首行， V 进入可视行模式， G 定位到文件末行，实现类似“全选”的功能。依次按下 g g V(Shift+v) G(Shift+g)\n\n\n\n\n向前\n向后\n\n\n\n整页\nCtrl+f\nCtrl+b\n\n\n半页\nCtrl+d\nCtrl+u\n\n\n文件\nG\ngg\n\n\n按行号转到相应行\n行号 G\n\n\n\n按百分比转到相应的行\n1~100%\n\n\n\n按行卷动\nCtrl+e\nCtrl+y\n\n\n将光标所在行调整至页面中间\nzz\n\n\n\n统计字数\ng Ctrl+g\n\n\n\n显示位置信息\nCtrl+g\n\n\n\n刷新屏幕\nCtrl+l\n\n\n\n标记您可以在当前光标处作一个标记，以便快速返回\nm标记名称    定义标记。标记名称为一个字符`标记名称    返回标记mx           将当前光标处定义为标记 x`x           返回标记 x:marks       查看标记列表  \n\n编辑\n\n\n\n复制\n剪切\n\n\n\n字符\ny\nx\n\n\n行\nyy\ndd\n\n\n\n\n\n\n\n\n\n\np\n在光标后粘贴\n\n\nP\n在光标前粘贴\n\n\nu\n撤消\n\n\nCtrl+r\n重做\n\n\nCtrl+y\n逐字克隆上一行内容\n\n\nCtrl+e\n逐字克隆下一行内容\n\n\n搜索和替换按下 / 键，编辑器底部会出现 / 符号，接着输入字符串，便可以进行搜索\n\n\n\n\n\n\n\n\n\n\n&#x2F;\n向下搜索\n?\n向上搜索\n\n\nn\n搜索下一个\nN\n搜索上一个\n\n\n\n\n\n\n\n\n\n\n:s&#x2F;源字符串&#x2F;目标字符串\n将源字符串替换为目标字符串\n\n\n:s&#x2F;源字符串&#x2F;目标字符串&#x2F;g\n替换当前行中所有符合条件的字符串\n\n\n:行号1,行号2s&#x2F;源字符串&#x2F;目标字符串&#x2F;g\n在指定行中进行替换\n\n\n:%s&#x2F;源字符串&#x2F;目标字符串&#x2F;g\n全文替换\n\n\n寄存器操作Vim 可以将不同字段剪切或复制到不同寄存器中，您可以从不同寄存器中取出内容后粘贴\n&quot;寄存器名称\n\n按下**&quot;**键和另一个字符键，便可以定义一个寄存器。例如：&quot;a &quot;1\n定义寄存器后直接进行操作\n&quot;ayy    将当前行复制到寄存器 a 中&quot;ap     将寄存器 a 中的内容粘贴到光标之后\n\n\n:registers 查看所有寄存器的内容\n通常情况下，寄存器 + (先按”，再按 Shift+&#x3D; )对应 X 下的剪贴板。您在其它程序中复制的内容，可以使用 &quot;+p 粘贴到 Vim中；您在 Vim 中，可以使用 &quot;+y 将内容复制到剪贴板，再粘贴到其它程序中\n没有指定寄存器时，Vim 使用“无名寄存器”存储内容\n\n宏您可以将一系列的操作录制为一个宏，然后执行它\nq宏名称    开始录制宏。宏名称为一个字符q         录制中按下“q”键，结束录制@宏名称    执行宏\n\n\n可以使用 :registers（寄存器列表） 命令查看已记录的宏\n\n插入模式下的快捷键\n\n\n快捷键\n作用\n\n\n\nCtrl+r寄存器名称\n插入指定寄存器内容\n\n\nCtrl+k(2个字符)\n输入二合字符\n\n\nCtrl+v数字\n通过数字编码输入字符\n\n\nCtrl+v键位\n输入键位的名称\n\n\n键绑定、缩写前面我们已经向您介绍了键绑定\nmap! &lt;M-j&gt; &lt;Down&gt;\n\n尖括号及其中的内容，为 Vim 配置文件的约定，分别描述了按键和功能，表示将功能编写到按键上。如果绑定的只是普通字符，例如：\nmap! xxx XXXXX\n\n表示将 XXXXX 绑定到 xxx 上。当您键入 xxx 时，编辑器会自动替换为 XXXXX\n如果您只是想将字符串绑定为缩写，方便输入，我们建议您使用 iabbrev 来绑定。例如：\niabbrev g google\n\n在插入模式下键入 g ，编辑器会自动替换为 google 。您可以将 iabbrev 命令缩写为 iab ，例如：\niab g google\n\n以上命令，您可以直接在命令模式下输入，临时启用。也可以写入配置文件，永久启用。\n单词补全&lt;Ctrl+n&gt; 下一个匹配项&lt;Ctrl+p&gt; 上一个匹配项\n\n您可以在配置文件中定义补全的方式\n&quot;自动补全方式：(使用逗号分隔)set complete=k,.&quot;   .    当前文件&quot;   b    已被装缓冲区,但是没有在窗口内的文件&quot;   d    在当前的文件中定义和由 #include 包含进来的文件&quot;   i    由 #include 包含进来的文件&quot;   k    由 dictionary 选项定义的文件&quot;   kfile    名为&#123;file&#125;的文件&quot;   t    标记(tags)文件&quot;   u    没有载入的缓冲区&quot;   w    在其他窗口中的文件&quot;设定自动补全字典 ：set dictionary=path\n\n命令模式前面介绍了普通模式和插入模式。我们发现，普通模式主要用来浏览和修改文本内容，而插入模式则用来向文本中添加内容。\n而命令模式则多用于操作文本文件（而不是操作文本文件的内容），例如保存文件；或者用来更改编辑器本身的状态，例如设定多栏窗口、标签或者退出编辑器……\nw(rote) 将更改写入文件\n:w\n\nq(uit) 退出编辑器\n:q\n\n某些情况下，编辑器会阻止命令的执行。例如您修改了文件，而没有保存，那么您使用 :q 命令退出时，编辑器就不会执行这条命令，而是提醒您保存文件。\n这个时候，您可以在命令末尾追加 ! 来强制执行命令\n:命令!\n\n例如 :q! ，即便您没有保存已修改的文件，使用此命令，编辑器也会放弃修改而强行退出\n以 ! 引导一个 Shell 命令，则可以从 Vim 临时切换到 Shell 中，执行一个 Shell\n:!命令\n\n例如 :!ls\n命令模式还可以用来调节一些选项，例如\n:set linespace=6\n\n\n使用 Tab 键补全命令\n命令可以直接写入配置文件\n在选项后加上一个 &amp; 使用默认值，例如： :set linespace&amp;\n\n折叠\n\n\n命令\n作用\n\n\n\nzf数字\n创建折叠，数字参数为折叠行数\n\n\nzo\n打开折叠\n\n\nzc\n关闭折叠\n\n\nzd\n删除折叠\n\n\n:set foldcolumn&#x3D;4\n显示折叠树\n\n\n:mkview\n保存折叠\n\n\n:loadview\n读取折叠\n\n\nzr\n打开同一层级所有折叠\n\n\nzm\n关闭同一层级所有折叠\n\n\nzO\n打开某一行的所有层级折叠\n\n\nzC\n关闭某一行的所有层级折叠\n\n\nzR\n打开所有折叠\n\n\nzM\n关闭所有折叠\n\n\n:set foldclose&#x3D;all\n光标离开折叠自动关闭\n\n\n:set foldopen&#x3D;all\n光标遇到折叠自动打开\n\n\n您可以在配置文件中定义折叠的方式\n&quot;设定折叠方式set foldmethod=manual&quot; manual 手动折叠&quot; indent 按缩进折叠&quot; marker 按标记折叠&quot; syntax 按语法折叠&quot; expr   按表达式折叠\n\n按标记折叠的例子：\n#起始标记 &#123;&#123;&#123; 将标记放到注释里，不会影响文件的功能 起始标记和结束标记之间的内容折叠显示为起始标记所在行#结束标记 &#125;&#125;&#125;###### 将折叠方式写到模式行里 ###### vim: foldmethod=marker \n\n多栏窗口您可以使用以下命令，将当前窗口水平分为两栏\n:new\n\n新建一栏空白窗口，将当前文件分两栏显示\n:split\n\n同理，您可以使用下列命令，将当前窗口垂直分为两栏\n:vnew:vsplit\n\n先按下 ctrl+w 键，再按下方向键 j 、 k 、 l 、 h ，您可以切换到其它栏；在当前栏中使用 :q 命令，可以退出当前栏，也可以使用其它命令，对当前栏作出修改\n如果您希望当前命令在所有栏中生效，您可以在命令的末尾追加 all\n:命令all\n\n例如：**:qall**\n如果您希望这条命令强制执行，那么 ! 位于命令的最末，例如：**:qall!** 强行退出所有栏窗口\n标签页Vim 在7以后的版本，开始支持标签页的功能\n:tabnew    新建一个标签:tabnext   转到下一个标签:tabprevious  转到上一个标签\n\n您也可以使用鼠标点击标签进行切换\n文件管理使用 Vim 编辑目录时，会进入文件管理模式：\nvim .\n\n文件管理模式中可以实现一些简单的文件管理功能：\n\n\n\n命令\n作用\n\n\n\nenter\n打开文件或文件夹\n\n\nCtrl+o\n后退\n\n\no\n新开一栏进行编辑\n\n\nO\n在前一次打开的栏中编辑\n\n\np\n预览\n\n\ni\n显示&#x2F;隐藏文件大小、日期\n\n\ns\n切换文件排序方式\n\n\nr\n切换顺序、逆序\n\n\n-\n回到上一级目录\n\n\nc\n将 Vim 执行目录设定为当前目录\n\n\nR\n重命名\n\n\nD\n删除\n\n\nx\n运行\n\n\n\n:cd 设定所有窗口执行目录 ； :lcd 设定当前栏窗口执行目录\n\n加密使用 :X 命令为文件设定一个密码\n:XEnter encryption key: ******Enter same key again: ******\n\n\n如果要取消加密，可以设置密码为空\n\n可以禁用交换文件，以免泄密\nvim -x -n file.txt\n\n如果你已在经编辑这个文件了，那么交换文件 swapfile 可以用下面的命令禁止:\n:setlocal noswapfile\n\n由于没了交换文件，文件复原就不可能了。为了避免失去编辑的成果，要比平时更勤快地存盘你的文件\n现在你可以像平时一样编辑这个文件并把你所有的秘密放进去。当你编完文件要退出 Vim 时，这个文件就被加密存盘了\n当你下次用 Vim 编辑这个文件时，它就会询问你密码\n如果你试图用另一个程序来阅读这个文件，你将读到一堆垃圾。如果你用 Vim 来编辑这个文件，但输入了错误的密码，你也只能得到垃圾。Vim 并不具备检验密码正确性的机制 (这一点使得破译密码更为困难)\n","tags":["linux","vim"]}]